<!--åŠ è½½logoå›¾ç‰‡-->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <!-- è®¾ç½®ç½‘é¡µçš„å­—ç¬¦é›†ï¼Œä¿è¯æ”¯æŒå¤šç§è¯­è¨€ -->
    <meta charset="UTF-8">
    <!-- è®©ç½‘é¡µé€‚é…ç§»åŠ¨ç«¯ï¼Œä¿è¯åœ¨æ‰‹æœºã€å¹³æ¿å’Œ PC ä¸Šéƒ½èƒ½æ­£å¸¸æ˜¾ç¤º -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoAir - Home</title>

    <!-- å¼•å…¥ Bootstrap 5.3 CSSï¼ˆç”¨äºç¾åŒ–é¡µé¢å’Œå¸ƒå±€ï¼‰ -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- å¼•å…¥ Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">


    <style>
        /* ğŸŒˆ è®©æ•´ä¸ªç½‘é¡µçš„èƒŒæ™¯å˜æˆæ¸å˜è‰²ï¼Œæå‡è§†è§‰æ•ˆæœ */
        body {
            background: linear-gradient(to right, #84a9ac, #3b6978, #204051); /* æ¸å˜èƒŒæ™¯ */
            color: white; /* è®©æ‰€æœ‰æ–‡æœ¬é»˜è®¤å˜ä¸ºç™½è‰² */
            font-family: Arial, sans-serif; /* ç»Ÿä¸€ç½‘é¡µå­—ä½“ï¼Œä¿è¯ç¾è§‚ */
        }

        /* ğŸ’» è®©æ•´ä¸ªé¡µé¢é€‚åº”å…¨å±ï¼Œè€Œä¸æ˜¯å›ºå®šå®½åº¦ */
        .container-fluid {
            width: 100%; /* è®©ç½‘é¡µå¡«å……æ•´ä¸ªå±å¹• */
            padding: 20px; /* è®¾ç½®å†…è¾¹è·ï¼Œé¿å…å†…å®¹å¤ªç´§å‡‘ */
        }

        /* ğŸ”µ å·¦ä¸Šè§’ LOGO æ ·å¼ */
        .logo-container {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }

        .logo-container img {
            width: 60px; /* LOGO å›¾ç‰‡å¤§å° */
            height: auto;
        }

        .logo-text {
            font-size: 28px;
            font-weight: bold;
        }

        .logo-text span {
            color: #007bff; /* `!` å˜æˆè“è‰² */
        }

        .logo-text .air {
            color: #007bff; /* `Air` å˜æˆè“è‰² */
        }

        /* ğŸ“¢ å·¦ä¾§é€šçŸ¥åŒºåŸŸï¼ˆBrief Notification + Alertï¼‰ */
        .left-box {
            height: 300px; /* å›ºå®šé«˜åº¦ */
            border-radius: 15px; /* è®©è¾¹è§’å˜åœ† */
            background-color: white; /* è®¾ç½®ç™½è‰²èƒŒæ™¯ */
            color: #204051; /* è®¾ç½®å­—ä½“é¢œè‰² */
            padding: 10px;
            text-align: center; /* è®©æ–‡å­—å±…ä¸­ */
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); /* æ·»åŠ é˜´å½± */
            margin-top: 18px; /* é»˜è®¤çš„ box ä¸ä¸Šä¸€ä¸ªä¿æŒ 10px é—´è· */
            margin-bottom: 0; /* ä¹Ÿå¯ä»¥ç”¨ 2px */
        }

        /* ä»…ç¬¬ä¸€ä¸ª .left-box ä¿æŒ 46px */
        .first-box {
            margin-top: 46px;
        }


        /* ğŸ” æœç´¢æ¡†ï¼ˆå¢åŠ æœç´¢æŒ‰é’®ï¼‰ */
        .search-bar-container {
            display: flex;
            width: 100%;
            justify-content: center; /* è®©æœç´¢æ¡†åœ¨é¡µé¢ä¸­æ°´å¹³å±…ä¸­ */
            align-items: center; /* è®©æœç´¢æ¡†å‚ç›´å±…ä¸­ */
            margin-top: 10px; /* å¯ä»¥è°ƒæ•´ä¸ä¸Šæ–¹çš„é—´è· */
        }

        /* ğŸ” é¡¶éƒ¨æœç´¢æ æ ·å¼ */
        .search-bar {
            height: 45px; /* ç»Ÿä¸€é«˜åº¦ */
            width: 100%; /*è®©æœç´¢æ å æ»¡æ•´åˆ— */
            padding: 12px; /* è®©è¾“å…¥æ¡†æ›´èˆ’é€‚ */
            border: none; /* å»é™¤è¾¹æ¡† */
            border-radius: 20px 0 0 20px; /* è®©æœç´¢æ¡†è¾¹è§’å˜å¾—åœ†æ»‘ */
            margin-bottom: 20px; /* è®¾ç½®ä¸ä¸‹æ–¹çš„é—´è· */
            \margin-top: 10px; /* å¯ä»¥è°ƒæ•´ä¸ä¸Šæ–¹çš„é—´è· */
            text-align: center; /* è®©æ–‡å­—å±…ä¸­ */
            font-size: 18px;
            background: white; /* è®¾ç½®æœç´¢æ¡†èƒŒæ™¯é¢œè‰² */
            color: #204051; /* è®¾ç½®å­—ä½“é¢œè‰² */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2); /* ç»™æœç´¢æ¡†æ·»åŠ é˜´å½± */
            flex-grow: 1; /* è®©æœç´¢æ¡†è‡ªåŠ¨å¡«å……å¯ç”¨ç©ºé—´ */
        }

        .search-btn {
            height: 45px; /* ç»Ÿä¸€é«˜åº¦ */
            padding: 12px 20px;
            border-radius: 0 20px 20px 0; /* è®©å³ä¾§åœ†è§’ */
            border: none;
            background-color: #0366d4;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: 0.3s;
            /*margin-left: -5px;  è®©æŒ‰é’®æ›´è´´åˆæœç´¢æ¡† */
            align-items: center; /* è®©æŒ‰é’®å†…çš„å›¾æ ‡å‚ç›´å±…ä¸­ */
            margin-bottom: 20px; /* è®¾ç½®ä¸ä¸‹æ–¹çš„é—´è· */
            margin-top: 10px; /* å¯ä»¥è°ƒæ•´ä¸ä¸Šæ–¹çš„é—´è· */
        }

        .search-btn:hover {
            background-color: #0056b3; /* æ‚¬åœæ—¶é¢œè‰²å˜æ·± */
        }


        /* ğŸ‘¤ å³ä¸Šè§’ç”¨æˆ·å¤´åƒæ ·å¼ */
        .user-circle {
            width: 100px; /* å¤´åƒå¤§å° */
            height: 100px;
            border-radius: 50%; /* è®©å¤´åƒå˜æˆåœ†å½¢ */
            background-color: white;
            color: #204051;
            text-align: center;
            display: flex; /* è®©å†…å®¹å±…ä¸­ */
            align-items: center; /* å‚ç›´å±…ä¸­ */
            justify-content: center; /* æ°´å¹³å±…ä¸­ */
            line-height: 70px; /* è®©æ–‡å­—å‚ç›´å±…ä¸­ */
            font-weight: bold;
            margin-top: -10px;
            margin-left: 250px;
            margin-right: 100px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3); /* å¤´åƒæ·»åŠ é˜´å½± */
            /* ğŸš€ è®©å¤´åƒé å³å¯¹é½ */
            position: relative;
        }

        .user-avatar {
            width: 70px; /* å¤´åƒå›¾ç‰‡å¤§å° */
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
        }

        /* ğŸ›ï¸ è®© Trips å’Œ Setting æŒ‰é’®é è¿‘å¤´åƒ */
        .user-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 20px; /* æŒ‰é’®é—´è· */
            position: relative;
            margin-top: -65px; /* è®©æŒ‰é’®ç¨å¾®ç¦»å¤´åƒæœ‰ç‚¹è·ç¦» */
            margin-right: 240px;
            margin-bottom: 25px; /* å‡å°æŒ‰é’®ä¸ä¸‹æ–¹çš„é—´è· */
        }

        /* ğŸ·ï¸ æŒ‰é’®æ ·å¼ */
        .btn-custom {
            border-radius: 10px; /* åœ†è§’æŒ‰é’® */
            padding: 5px 5px;
            font-size: 14px;
            font-weight: bold;
            color: white !important; /* è®©æŒ‰é’®æ–‡å­—å˜ç™½ */
            border: 1px solid white !important; /* ç™½è‰²è¾¹æ¡† */
            background-color: transparent; /* é€æ˜èƒŒæ™¯ */
            transition: all 0.3s ease-in-out;
            min-width: 120px; /* ç»Ÿä¸€æŒ‰é’®å®½åº¦ */
            text-align: center;
        }

        /* ğŸš€ æŒ‰é’®æ‚¬åœæ•ˆæœ */
        .user-buttons .btn:hover {
            background-color: rgba(255, 255, 255, 0.2) !important;
            border-color: white !important;
        }

        /* âœˆ èˆªç­æœç´¢æ¡†æ ·å¼ */
        .search-box {
            background-color: white; /* èƒŒæ™¯ç™½è‰² */
            padding: 20px;
            border-radius: 15px; /* è®©æœç´¢æ¡†å˜å¾—åœ†æ»‘ */
            border: none;
            box-shadow: 2px 2px 12px rgba(0, 0, 0, 0.3); /* æ·»åŠ é˜´å½± */
            margin-top: 25px; /* ä¸ä¸Šæ–¹é—´è· */
            margin-bottom: 20px;
        }

        /* ğŸ“ ç»Ÿä¸€æœç´¢æ¡†å†…è¾“å…¥æ¡†çš„æ ·å¼ */
        .search-box input {
            margin-top: 10px; /* ä¸ä¸Šæ–¹é—´è· */
            height: 50px; /* å›ºå®šé«˜åº¦ */
            width: 100%;
            margin-bottom: 16px; /* è¾“å…¥æ¡†ä¹‹é—´çš„é—´è· */
            border-radius: 8px; /* è®©è¾“å…¥æ¡†è¾¹è§’æ›´åœ†æ»‘ */
            padding: 15px;
            border: 1px solid #b4b4b4; /* è®¾ç½®è¾¹æ¡†é¢œè‰² */

        }

        /* è¡¨å•æ’ç‰ˆï¼šæ ‡ç­¾åœ¨å·¦ï¼Œè¾“å…¥æ¡†åœ¨å³ */
        .form-row {
            display: flex; /* æ°´å¹³æ’åˆ— */
            align-items: center; /* å‚ç›´å±…ä¸­ */
            margin-bottom: 5px; /* æ¯è¡Œåº•éƒ¨ç•™å‡ºé—´è· */
        }

        .form-label {
            flex: 0 0 20%; /* æ ‡ç­¾å å›ºå®šå®½åº¦ */
            margin-bottom: 0; /* å–æ¶ˆé»˜è®¤ä¸‹è¾¹è· */
            font-weight: 600;
            color: #204051;
            text-align: right; /* æ ‡ç­¾æ–‡æœ¬å³å¯¹é½ */
            margin-right: 30px; /* æ ‡ç­¾ä¸å†…å®¹ä¹‹é—´çš„é—´è· */
        }

        .form-control {
            flex: 1; /* å‰©ä½™ç©ºé—´ç»™è¾“å…¥æ¡† */
            height: 50px; /* å¯è‡ªè¡Œè°ƒæ•´ */
            border-radius: 8px;
            padding: 10px;
            border: 1px solid #b4b4b4;
        }

        /* ğŸ”˜ ç¾åŒ– "Search for Flights" æŒ‰é’® */
        .search-box button {
            width: 100%;
            border-radius: 8px; /* è®©æŒ‰é’®å˜å¾—æ›´åœ†æ»‘ */
            padding: 15px;
            font-size: 16px;
            background-color: #3b6978; /* é»˜è®¤æŒ‰é’®é¢œè‰² */
            color: white;
            border: none;
            transition: 0.3s; /* æ·»åŠ å¹³æ»‘è¿‡æ¸¡æ•ˆæœ */
            margin-top: 19px; /* ä¸ä¸Šæ–¹é—´è· */
            margin-bottom: 20px; /* è®¾ç½®ä¸ä¸‹æ–¹çš„é—´è· */
        }

        /* ğŸš€ é¼ æ ‡æ‚¬åœæ—¶æ”¹å˜æŒ‰é’®é¢œè‰² */
        .search-box button:hover {
            background-color: #204051; /* æ‚¬åœæ—¶é¢œè‰²å˜æ·± */
        }

        /* è®©ä¸‰ä¸ªéƒ¨åˆ†å·¦ä¸­å³å¯¹é½ */
        .row {
            display: flex;
            align-items: flex-start; /* ğŸš€ è®©ä¸‰ä¸ªéƒ¨åˆ†ç­‰é«˜ */
        }

        .search-box, .right-box {
            margin-top: 20px; /* è®©ä¸‰ä¸ªéƒ¨åˆ†ä¸Šè¾¹ç¼˜å¯¹é½ */
            margin-bottom: 0; /* è®©ä¸‰ä¸ªéƒ¨åˆ†ä¸‹è¾¹ç¼˜å¯¹é½ */
        }

        /* ğŸ“Œ å³ä¾§æŒ‰é’®åŒºåŸŸï¼ˆHelp, Privacy, Contact Usï¼‰ */
        .right-box {
            height: 190px; /* å›ºå®šé«˜åº¦ */
            width: 100%;
            border-radius: 15px; /* è®©è¾¹è§’å˜å¾—æ›´åœ†æ»‘ */
            background-color: white;
            color: #204051;
            padding: 10px;
            display: flex;
            flex-direction: column; /* è®©æ ‡é¢˜å’Œæ–‡æœ¬å‚ç›´æ’åˆ— */
            align-items: center; /* æ ‡é¢˜æ–‡æœ¬å±…ä¸­ */
            text-decoration: none;
            justify-content: flex-start; /* æ•´ä½“ä»ä¸Šæ–¹å¼€å§‹ */
            /*margin-bottom: 5px;  è®¾ç½®ä¸ä¸‹æ–¹çš„é—´è· */
            box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2); /* æ·»åŠ é˜´å½± */
        }

        .right-section {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            height: 100%; /* ğŸš€ è®©å³ä¾§éƒ¨åˆ†è‡ªåŠ¨å¡«å……é«˜åº¦ */
            gap: 5px; /* è®© Help / Privacy / Contact us ä¹‹é—´é—´è·å‡åŒ€ */
            margin-top: 5px; /* ğŸ”¥ ä¸å·¦ã€ä¸­ä¿æŒä¸€è‡´ */
            margin-bottom: 5px;
        }

        /* è®©æ ‡é¢˜å±…ä¸­ */
        .right-box h3 {
            text-align: center !important;
            color: #204051 !important;
            font-size: 16px !important; /* ä¸å·¦ä¾§å¼ºæ–‡æœ¬å¤§å°æ¥è¿‘ */
            margin: 0 auto; /* å»æ‰é»˜è®¤ marginï¼Œé¿å…å½±å“å¯¹é½ */
            padding: 0;
            font-weight: bold;
        }

        .right-box p {
            margin-top: 10px;
            font-size: 14px;
            text-align: center; /* è®©ç®€çŸ­æè¿°ä¹Ÿå±…ä¸­ */
            margin-left: auto; /* è®©æ–‡å­—æ°´å¹³å±…ä¸­ */
            margin-right: auto;
            justify-content: center;
        }

        /* è®©é“¾æ¥æ²¡æœ‰ä¸‹åˆ’çº¿ï¼Œä¸”é¢œè‰²ä¸º #204051 */
        .right-box h3 a {
            text-decoration: none !important; /* å»æ‰ä¸‹åˆ’çº¿ */
            color: #204051 !important; /* å¼ºåˆ¶é“¾æ¥é¢œè‰²è¦†ç›– Bootstrap */
        }

        /* ç”¨ä¸€ä¸ªä¸­é—´åŒºå®¹çº³æ–‡æœ¬ï¼Œè®©å…¶åœ¨å‚ç›´æ–¹å‘å±…ä¸­ */
        .text-spacer {
            flex: 1; /* å æ®å‰©ä½™é«˜åº¦ */
            display: flex;
            align-items: center; /* å‚ç›´å±…ä¸­ */
            justify-content: center; /* æ°´å¹³å±…ä¸­ */
            width: 100%;
        }

        .text-spacer p {
            margin: 0;
            font-size: 14px;
            text-align: center; /* å¦‚æœæƒ³ä¸å·¦ä¾§ç±»ä¼¼ï¼Œå¯æ”¹ä¸º left */
        }


    </style>
</head>
<body>

<!-- ğŸ“Œ è®©æ•´ä¸ªé¡µé¢ä½¿ç”¨ `container-fluid` é€‚é…å…¨å± -->
<div class="container-fluid mt-4">
    <div class="row ">
        <!-- ğŸ”µ å·¦ä¾§éƒ¨åˆ†ï¼ˆLOGO + é€šçŸ¥ + æé†’ï¼‰ -->
        <div class="col-lg-3 col-md-4">
            <div class="logo-container">
                <img src="{% static 'images/logo.png' %}" alt="Logo" width="50">
                <h3 class="logo-text ms-2">Go<span>!Air</span></h3>
            </div>
            <!-- 
                1) ç®€è¦æ˜¾ç¤ºé€šçŸ¥ä¿¡æ¯é‡Œçš„èˆªç­å· 
                   å‡è®¾åç«¯æ¨¡æ¿å˜é‡: notifications 
                   notifications.0.flight_number 
                   (ä»…æ¼”ç¤ºå–ç¬¬ä¸€ä¸ªé€šçŸ¥)
            -->
            <div class="left-box first-box">
                <a href="{% url 'notifications' %}" class="text-decoration-none text-dark">
                    <strong>Brief Notification</strong>
                </a>
                <p>
                    <!-- å¦‚æœ notifications å­˜åœ¨å¹¶æœ‰ç¬¬ä¸€ä¸ªèˆªç­å·ï¼Œåˆ™æ˜¾ç¤ºï¼Œå¦åˆ™æ˜¾ç¤º "No data" -->
                    {% if notifications and notifications|length > 0 %}
                        Flight #: {{ notifications.0.flight_number }}
                    {% else %}
                        No data
                    {% endif %}
                </p>
            </div>

            <!-- 
                2) ç®€è¦æ˜¾ç¤ºæé†’ä¿¡æ¯é‡Œçš„èˆªç­å· 
                   å‡è®¾åç«¯æ¨¡æ¿å˜é‡: alerts
                   alerts.0.flight_number 
                   (ä»…æ¼”ç¤ºå–ç¬¬ä¸€ä¸ªæé†’)
            -->
            <div class="left-box">
                <a href="{% url 'alerts' %}" class="text-decoration-none text-dark">
                    <strong>Alert</strong>
                </a>
                <p>
                    {% if alerts and alerts|length > 0 %}
                        Flight #: {{ alerts.0.flight_number }}
                    {% else %}
                        No data
                    {% endif %}
                </p>
            </div>
        </div>


        <!-- âœˆ ä¸­é—´éƒ¨åˆ†ï¼ˆæœç´¢æ¡† + èˆªç­æŸ¥è¯¢ï¼‰ -->
        <div class="col-lg-6 col-md-8">
            <div class="search-bar-container w-100">
                <div class="d-flex align-items-center w-100">
                    <input type="text" class="search-bar" placeholder="Search">
                    <button class="search-btn"><i class="bi bi-search"></i></button>
                </div>
            </div>
            <!-- é‡ç‚¹ï¼šè®©è¡¨å•ç›´æ¥æäº¤åˆ°åç«¯ /search/ è·¯ç”± -->
            <div class="search-box">
                <!-- method="get" æˆ– "post"ï¼Œaction ä½¿ç”¨åç«¯å®šä¹‰çš„è·¯ç”± -->
                <form method="get" action="{% url 'search' %}">
                    <div class="form-row">
                        <label for="origin" class="form-label">Origin *</label>
                        <!-- name="origin" ä¸åç«¯ request.GET.get('origin') å¯¹åº” -->
                        <input type="text" class="form-control" id="origin" name="origin" placeholder="eg: LAX"
                               required>
                    </div>
                    <div class="form-row">
                        <label for="departure_date" class="form-label">Departure *</label>
                        <!-- name="date" å¯¹åº” request.GET.get('date') -->
                        <input type="date" class="form-control" id="departure_date" name="date" required>
                    </div>
                    <div class="form-row">
                        <label for="destination" class="form-label">Destination *</label>
                        <input type="text" class="form-control" id="destination" name="destination"
                               placeholder="eg: JFK" required>
                    </div>
                    <div class="form-row">
                        <label for="return_date" class="form-label">Return</label>
                        <!-- name="return_date" -->
                        <input type="date" class="form-control" id="return_date" name="return_date">
                    </div>
                    <div class="form-row">
                        <label for="airline" class="form-label">Airline</label>
                        <input type="text" class="form-control" id="airline" name="airline" placeholder="eg: Delta">
                    </div>
                    <div class="form-row">
                        <label for="class" class="form-label">Class</label>
                        <input type="text" class="form-control" id="class" name="class"
                               placeholder="eg: Economy / Business">
                    </div>
                    <!-- ç‚¹å‡»æ­¤æŒ‰é’®å°†è·³è½¬åˆ° /search/ å¹¶æºå¸¦è¡¨å•å‚æ•° -->
                    <button type="submit" class="btn btn-dark">Search for Flights</button>
                </form>
            </div>
        </div>

        <!-- ç”¨äºæ˜¾ç¤ºæœç´¢ç»“æœ 
        <div id="search-results" 
             style="background: white; color: #204051; 
                    padding: 15px; border-radius: 10px; margin-bottom: 20px;">
        </div>-->

        <!-- ğŸ‘¤ å³ä¾§éƒ¨åˆ†ï¼ˆç”¨æˆ·ä¿¡æ¯ + è®¾ç½®ï¼‰ -->
        <div class="col-lg-3 col-md-12 text-end">
            <div class="user-circle">
                {% if request.user.is_authenticated %}
                    <!-- å¦‚æœç”¨æˆ·å·²ç™»å½• -->
                    {% if user.avatar %}
                        <!-- å¦‚æœç”¨æˆ·ä¸Šä¼ äº†å¤´åƒï¼Œå°±æ˜¾ç¤ºå¤´åƒ -->
                        <a href="{% url 'user_page' %}">
                            <img src="{{ user.avatar.url }}" alt=" " class="user-avatar">
                        </a>
                    {% else %}
                        <!-- å¦åˆ™ï¼Œæ˜¾ç¤ºç”¨æˆ·åé¦–å­—æ¯æˆ– 'U'ï¼Œå¹¶å¯ç‚¹å‡»è·³è½¬åˆ°ç”¨æˆ·ä¿¡æ¯é¡µ -->
                        <a href="{% url 'user' %}"
                           class="text-decoration-none text-dark d-flex align-items-center justify-content-center"
                           style="width: 70px; height: 70px; border-radius: 50%; background: transparent;">
                            {% if user.username %}
                                {{ user.username|slice:":1"|upper }}
                            {% else %}
                                U
                            {% endif %}
                        </a>
                    {% endif %}
                {% else %}
                    <!-- å¦‚æœç”¨æˆ·æœªç™»å½•ï¼Œå°±æ˜¾ç¤ºä¸€ä¸ªé»˜è®¤å¤´åƒï¼Œç‚¹å‡»è·³è½¬åˆ°ç™»å½•é¡µ -->
                    <a href="{% url 'login' %}">
                        <img src="{{ media_url }}avatars/default.jpg " alt=" " class="user-avatar">
                    </a>
                {% endif %}
            </div>

            <!-- 
                3) ç§»é™¤ Setting æŒ‰é’®ï¼Œåªä¿ç•™ Trips
                4) Trips è·³è½¬åˆ° trip_list
            -->
            <div class="user-buttons">
                {% if request.user.is_authenticated %}
                    <a href="{% url 'trip_list' %}" class="btn btn-custom">Trips</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-custom">Trips</a>
                {% endif %}
            </div>

            <!-- 
                5) Help, Privacy, Contact => é“¾æ¥åˆ°å¯¹åº”é¡µé¢
                åŸå…ˆ right-box æ˜¯é™æ€æ–‡æœ¬ï¼Œç°åœ¨æ”¹æˆ <a> é“¾æ¥
            -->
            <!-- Help / Privacy / Contact us: æ ‡é¢˜å¯ç‚¹å‡»è·³è½¬ + æ¡†å†…ç®€è¦æ–‡æœ¬ -->
            <div class="right-section">
                <div class="right-box">
                    <h3>
                        <!-- ç‚¹å‡»æ ‡é¢˜è·³è½¬åˆ° help.html -->
                        <a href="{% url 'help' %}">Help</a>
                    </h3>
                    <!-- ç”¨ä¸€ä¸ª .text-spacer å®¹çº³æ–‡æœ¬ï¼Œå¹¶å‚ç›´å±…ä¸­ -->
                    <div class="text-spacer">
                        <p>Here is a short help text. For more info, please check the documentation.</p>
                    </div>
                </div>
                <div class="right-box">
                    <h3>
                        <!-- ç‚¹å‡»æ ‡é¢˜è·³è½¬åˆ° privacy.html -->
                        <a href="{% url 'privacy' %}">Privacy</a>
                    </h3>
                    <div class="text-spacer">
                        <p>We value your privacy. This is a brief summary of our policy.</p>
                    </div>
                </div>
                <div class="right-box">
                    <h3>
                        <!-- ç‚¹å‡»æ ‡é¢˜è·³è½¬åˆ° contact.html -->
                        <a href="{% url 'contact' %}">Contact us</a>
                    </h3>
                    <div class="text-spacer">
                        <p>You can reach us via email or phone. We are here to help!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ğŸ“Œ å¼•å…¥ Bootstrap 5.3 JavaScriptï¼ˆç”¨äºäº¤äº’æ•ˆæœï¼‰ -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- æ–°å¢è„šæœ¬ï¼Œé€šè¿‡ AJAX è°ƒç”¨ flight-search API -->
<script>
    document.getElementById('flight_search_form').addEventListener('submit', function (event) {
        event.preventDefault(); // é˜»æ­¢é»˜è®¤è¡¨å•æäº¤

        // è·å–è¡¨å•ä¸­çš„ Origin ä¸ Destination å€¼
        const origin = document.getElementsByName('from')[0].value;
        const destination = document.getElementsByName('to')[0].value;
        // æ„å»ºè¯·æ±‚ URLï¼Œä½¿ç”¨ Django çš„ url æ¨¡æ¿æ ‡ç­¾è·å– API è·¯å¾„
        let apiUrl = "{% url 'flight_search' %}?origin=" + encodeURIComponent(origin) + "&destination=" + encodeURIComponent(destination) + "&type=oneway";

        // è°ƒç”¨åç«¯ API è·å–èˆªç­æ•°æ®
    fetch('/api/flights/')
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('flights-container');
        if(data.length === 0){
          container.innerHTML = '<p>æš‚æ— èˆªç­ä¿¡æ¯</p>';
          return;
        }
        data.forEach(flight => {
          // æ ¹æ®å®é™…è¿”å›æ•°æ®ç»“æ„è°ƒæ•´å­—æ®µåç§°
          const flightDiv = document.createElement('div');
          flightDiv.innerHTML = `<strong>${flight.airline}</strong> - flight numberï¼š${flight.flight_number}`;
          container.appendChild(flightDiv);
        });
      })
      .catch(error => {
        console.error('Failed to load flight dataï¼š', error);
        document.getElementById('flights-container').innerHTML = '<p>Failed to load flight data</p>';
      });
    });
    document.addEventListener("DOMContentLoaded", function() {
    const searchButton = document.getElementById("searchButton");
    const searchInput = document.getElementById("searchInput");

    if (searchButton && searchInput) {
        searchButton.addEventListener("click", function() {
            const query = searchInput.value.trim();
            if (query) {
                window.location.href = `/search?query=${encodeURIComponent(query)}`;
            }
        });
    }
});
</script>

</body>
</html>
